scalar DateTime

enum WorkType {
  FLATWORK
  JUMPING
  GROUNDWORK
  IN_HAND
  TRAIL
  OTHER
}

type Horse {
  id: ID!
  name: String!
  notes: String
  createdAt: DateTime!
  updatedAt: DateTime!
  sessions: [Session!]!
}

type Rider {
  id: ID!
  name: String!
  email: String!
  createdAt: DateTime!
  sessions: [Session!]!
}

type Session {
  id: ID!
  horse: Horse!
  rider: Rider!
  date: DateTime!
  durationMinutes: Int!
  workType: WorkType!
  notes: String
  createdAt: DateTime!
  updatedAt: DateTime!
}

type Query {
  horses: [Horse!]!
  riders: [Rider!]!
  sessions: [Session!]!
  horse(id: ID!): Horse
  lastSessionForHorse(horseId: ID!): Session
}

type Mutation {
  createHorse(name: String!, notes: String): Horse!
  createRider(name: String!, email: String!): Rider!
  createSession(
    horseId: ID!
    riderId: ID!
    date: DateTime!
    durationMinutes: Int!
    workType: WorkType!
    notes: String
  ): Session!
}
